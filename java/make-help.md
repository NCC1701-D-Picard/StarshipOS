# OpenJDK Makefile Help

## Common Make Targets
- **`make [default]`**
    - Compile all modules and create a runnable "exploded" image (alias for `jdk` or `exploded-image`).

- **`make all`**
    - Create all images: product, test, docs (alias for `all-images`).

- **`make images`**
    - Create a complete JDK image (alias for `product-images`).

- **`make <name>-image`**
    - Build just the image for any of the following:
        - `jdk`, `test`, `docs`, `symbols`, `legacy-jre`, `static-libs`.

- **`make <phase>`**
    - Build the specified phase and everything it depends on:
        - `gensrc`, `java`, `copy`, `libs`, `launchers`, `gendata`.

- **`make *-only`**
    - Applies to most targets and disables building the dependencies for that target.
    - This is faster but may result in incorrect build results!

- **`make docs`**
    - Create all documentation.

- **`make docs-jdk-api`**
    - Create just JDK Javadocs.

- **`make bootcycle-images`**
    - Build images twice, second time using the newly built JDK.

- **`make check`**
    - Run basic testing (currently `tier1`).

- **`make test-<test>`**
    - Run a specific test, e.g., `test-tier1`.

- **`make test TEST=<t>`**
    - Run one or more tests given by a `TEST` specification.

- **`make exploded-test TEST=<t>`**
    - Run tests on the exploded image instead of the full JDK image.

---

## Targets for Troubleshooting
- **`make help`**
    - Display help on using `make`.

- **`make doctor`**
    - Diagnose build environment problems.

- **`make reconfigure`**
    - Rerun `configure` with the same arguments as last time.

---

## Targets for Cleaning
- **`make clean`**
    - Remove all files generated by `make`, but not those generated by `configure`.

- **`make dist-clean`**
    - Remove all files, including configuration.

- **`make clean-<outputdir>`**
    - Remove the subdirectory in the output directory with the name `<outputdir>`.

- **`make clean-<phase>`**
    - Remove all build results related to a specific phase:
        - `gensrc`, `java`, `libs`, `launchers`.

- **`make clean-<module>`**
    - Remove all build results related to a specific module.

- **`make clean-<module>-<phase>`**
    - Remove all build results related to a specific module and phase.

---

## Targets for Building HotSpot
- **`make hotspot`**
    - Build all of `HotSpot`.

- **`make hotspot-<variant>`**
    - Build only the specified JVM variant.

- **`make hotspot-gensrc`**
    - Only build the `gensrc` part of `HotSpot`.

- **`make hotspot-<variant>-<phase>`**
    - Build a specific phase for the JVM variant.

---

## Targets for Specific Modules
- **`make <module>`**
    - Build `<module>` and everything it depends on.

- **`make <module>-<phase>`**
    - Compile a specific phase for the specified module and its dependencies:
        - `gensrc`, `java`, `copy`, `libs`, `launchers`, `gendata`.

---

## Make Control Variables
- **`CONF=<selector>`**
    - Select which configuration(s) to build.

- **`CONF=`**
    - Select all configurations (note: assignment is empty).

- **`CONF_NAME=<string>`**
    - Select the configuration with the name `<string>`.

- **`SPEC=<spec file>`**
    - Build the configuration given by the spec file.

- **`LOG=<loglevel>`**
    - Change the log level from `warn` to `<loglevel>`.
        - Available log levels: `warn`, `info`, `debug`, `trace`.
        - To see executed command lines, use `LOG=debug`.

- **`JOBS=<n>`**
    - Run `<n>` parallel `make` jobs (note that `-jN` does not work as expected!).

- **`TEST_JOBS=<n>`**
    - Run `<n>` parallel test jobs.

- **`CONF_CHECK=<method>`**
    - Specify what to do if the spec file is out of date.
        - Method options: `auto`, `ignore`, `fail` (default).

- **`TEST="test1 ..."`**
    - Use the given test descriptor(s) for testing. Example:
      ```bash
      make test TEST="jdk_lang gtest:all"
      ```

- **`TEST_DEPS="dependency1 ..."`**
    - Specify additional dependencies for running tests, e.g., `docs-jdk`.

- **`JTREG="OPT1=x;OPT2=y"`**
    - Pass specific options for `JTReg`.

---

